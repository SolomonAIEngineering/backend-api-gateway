{"_path":"/engineering/setup","_dir":"engineering","_draft":false,"_partial":false,"_locale":"","title":"Setup","description":"","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"running-the-service-locally"},"children":[{"type":"text","value":"Running The Service Locally"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This document aims to serve as a guide to get this service and its dependencies up and running. If you haven't yet, it is imperative\nyou follow the steps provided on this "},{"type":"element","tag":"a","props":{"href":"https://v1-18.docs.kubernetes.io/docs/tasks/tools/install-minikube/","rel":["nofollow"]},"children":[{"type":"text","value":"minikube installation guide"}]},{"type":"text","value":" prior to\nexecuting any of the below operations."}]},{"type":"element","tag":"h3","props":{"id":"running-service-locally-with-live-reload-during-development"},"children":[{"type":"text","value":"Running Service Locally With Live Reload During Development"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To run the service and it's dependencies with live reload enabled to expedite development, open the terminal and run the following command"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"cd ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\nmake start-local-live\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" start-local-live\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This spins up the service and its dependencies as part of a docker-compose workflow. If you do not want to see the service logs and would rather\nopt to run the service in the background ... run "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"make start-local"}]},{"type":"text","value":" instead"}]},{"type":"element","tag":"h3","props":{"id":"running-minikube-locally"},"children":[{"type":"text","value":"Running Minikube locally"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to start a local minikube cluster perform the following"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"cd ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\nmake mk-start\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" mk-start\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"deploying-your-changes-to-minikube-locally"},"children":[{"type":"text","value":"Deploying Your Changes To Minikube Locally"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To deploy your local changes in a container in the minikube cluster, run the below operations. It builds and containerizes your local changes then\nupdates the docker registry at which the container is stored from local to that of minikube. After, it deploys the helm charts referencing\nthis container as well as dependent services into the cluster. Lastly, it opens, a tab with a k8's dashboard shedding light on the state of the\ndeployment, services, pods, ...etc"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"cd ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\nmake mk-launch-new\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" mk-launch-new\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to deploy with the docker container present on dockerhub instead of local changes, run "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"make mk-launch"}]},{"type":"text","value":" instead."}]},{"type":"element","tag":"h3","props":{"id":"stopping-and-deleting-minikube-cluster"},"children":[{"type":"text","value":"Stopping And Deleting Minikube Cluster"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To stop minikube cluster run"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"cd ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\nmake mk-stop\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" mk-stop\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To delete the minikube cluster run"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"cd ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\nmake mk-delete\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" mk-delete\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"running-tests-locally"},"children":[{"type":"text","value":"Running Tests Locally"}]},{"type":"element","tag":"h4","props":{"id":"unit-tests"},"children":[{"type":"text","value":"Unit Tests"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To run service level unit tests run"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"cd ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\nmake test\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" test\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will spin up the service with your changes in a container as well as dependent services as part of a docker compose workflow and\nrun a set of tests against them all"}]},{"type":"element","tag":"h4","props":{"id":"integration-tests"},"children":[{"type":"text","value":"Integration Tests"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To run integration tests, make sure you have a minikube cluster up and running as well as have deployed the set of dependent helm charts. For\nreference, utilize the following commands to execute a suite of E2E tests against the service in the cluster."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"cd ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\nmake integration-test\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" integration-test\n"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"suite-of-tests"},"children":[{"type":"text","value":"Suite Of Tests"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To run all tests execute the following set of commands"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"cd ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\nmake test\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ~/go/src/github.com/SolomonAIEngineering/backend-headless-authentication-service\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" test\n"}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"running-the-service-locally","depth":2,"text":"Running The Service Locally","children":[{"id":"running-service-locally-with-live-reload-during-development","depth":3,"text":"Running Service Locally With Live Reload During Development"},{"id":"running-minikube-locally","depth":3,"text":"Running Minikube locally"},{"id":"deploying-your-changes-to-minikube-locally","depth":3,"text":"Deploying Your Changes To Minikube Locally"},{"id":"stopping-and-deleting-minikube-cluster","depth":3,"text":"Stopping And Deleting Minikube Cluster"},{"id":"running-tests-locally","depth":3,"text":"Running Tests Locally"}]}]}},"_type":"markdown","_id":"content:3.engineering:setup.md","_source":"content","_file":"3.engineering/setup.md","_extension":"md"}